{% comment %}
ATB-SCHEMA{
  "name": "Big Banners",
  "class": "index-section",
  "id": "index-section-big_banners",
  "banner": "",
  "icon": "",
  "tags": "",
  "description": "",
  "settings": [
    {
      "type": "text",
      "id": "section_id",
      "label": "Section ID",
      "info": "Enter a unique ID with only letters and numbers, no spaces",
      "default": ""
    },
    {
      "type": "select",
      "id": "atb_top_offset",
      "label": "Top Offset",
      "default": "normal",
      "options": [
        {
          "value": "none",
          "label": "None"
        },
        {
          "value": "small",
          "label": "Small"
        },
        {
          "value": "normal",
          "label": "Normal"
        }
      ],
      "info": ""
    },
    {
      "type": "checkbox",
      "id": "atb_fullwidth",
      "label": "Fullwidth size",
      "default": true,
      "info": ""
    },
    {
      "type": "text",
      "id": "blocks",
      "label": "Block ID",
      "info": "Enter a unique ID with only letters and numbers, no spaces",
      "default": "",
      "repeatable": "Banner"
    },
    {
      "type": "image_picker",
      "id": "block_image",
      "label": "Image",
      "repeatable": "Banner",
      "info": ""
    },
    {
      "type": "checkbox",
      "id": "block_use_link",
      "label": "Use link",
      "default": true,
      "info": "Works when the button is disabled",
      "repeatable": "Banner"
    },
    {
      "type": "text",
      "id": "block_link",
      "label": "Link",
      "info": "If button is disabled, image will be shown as link",
      "repeatable": "Banner"
    },
    {
      "type": "header",
      "content": "Parallax",
      "repeatable": "Banner",
      "info": ""
    },
    {
      "type": "checkbox",
      "id": "block_use_parallax",
      "label": "Use parallax",
      "default": false,
      "repeatable": "Banner",
      "info": ""
    },
    {
      "type": "text",
      "id": "block_height1",
      "label": "Banner height. Screen width is more than 1200",
      "default": "650",
      "info": "Integer. In pixel. Fullwidth size",
      "repeatable": "Banner"
    },
    {
      "type": "text",
      "id": "block_height2",
      "label": "Banner height. Screen width is more than 790 and less than 1199",
      "default": "550",
      "info": "Integer. In pixel",
      "repeatable": "Banner"
    },
    {
      "type": "text",
      "id": "block_height3",
      "label": "Banner height. Screen width is more than 451 and less than 789",
      "default": "350",
      "info": "Integer. In pixel",
      "repeatable": "Banner"
    },
    {
      "type": "text",
      "id": "block_height4",
      "label": "Banner height. Screen width is less than 450",
      "default": "250",
      "info": "Integer. In pixel",
      "repeatable": "Banner"
    },
    {
      "type": "textarea",
      "id": "block_text1",
      "label": "Text 1",
      "default": "CLEARANCE",
      "info": "If you want to delete text from the screen, you need to clear the field",
      "repeatable": "Banner"
    },
    {
      "type": "textarea",
      "id": "block_text2",
      "label": "Text 2",
      "default": "SALES<br> 70% OFF",
      "info": "If you want to delete text from the screen, you need to clear the field",
      "repeatable": "Banner"
    },
    {
      "type": "textarea",
      "id": "block_text3",
      "label": "Text 3",
      "default": "Last chance to take advantage of our discounts!",
      "info": "If you want to delete text from the screen, you need to clear the field",
      "repeatable": "Banner"
    },
    {
      "type": "select",
      "id": "block_position",
      "label": "Text information position",
      "default": "normal",
      "options": [
        {
          "value": "tt-point-h-l",
          "label": "Left"
        },
        {
          "value": "normal",
          "label": "Center"
        },
        {
          "value": "tt-point-h-r",
          "label": "Right"
        }
      ],
      "repeatable": "Banner",
      "info": ""
    },
    {
      "type": "select",
      "id": "block_textalign",
      "label": "Text align",
      "default": "center",
      "options": [
        {
          "value": "left",
          "label": "Left"
        },
        {
          "value": "center",
          "label": "Center"
        },
        {
          "value": "right",
          "label": "Right"
        }
      ],
      "repeatable": "Banner",
      "info": ""
    },
    {
      "type": "checkbox",
      "id": "block_use_custom_style_for_text_1",
      "label": "Custom style text 1",
      "default": false,
      "info": "Responsive rules",
      "repeatable": "Banner"
    },
    {
      "type": "textarea",
      "id": "block_custom_style_for_text_1",
      "label": "Custom styles for Text 1",
      "default": ".tt-promo-fullwidth .tt-description .tt-title-small {\nfont-size: 30px;\nline-height: 40px;\nmargin-bottom: 16px;\n}\n@media (max-width: 1400px){\n\t.tt-promo-fullwidth .tt-description .tt-title-small {\n\t\tfont-size: 30px;\n\t\tline-height: 40px;\n\t\tmargin-bottom: 16px;\n\t}\n}\n@media (max-width: 1100px){\n\t.tt-promo-fullwidth .tt-description .tt-title-small {\n\t\tfont-size: 30px;\n\t\tline-height: 40px;\n\t\tmargin-bottom: 16px;\n\t}\n}\n@media (max-width: 900px){\n\t.tt-promo-fullwidth .tt-description .tt-title-small {\n\t\tfont-size: 20px;\n\t\tline-height: 30px;\n\t\tmargin-bottom: 10px;\n\t}\n}\n@media (max-width: 789px){\n\t.tt-promo-fullwidth .tt-description .tt-title-small {\n\t\tfont-size: 17px;\n\t\tline-height: 25px;\n\t\tmargin-bottom: 10px;\n\t}\n}\n@media (max-width: 657px){\n\t.tt-promo-fullwidth .tt-description .tt-title-small {\n\t\tfont-size: 15px;\n\t\tline-height: 20px;\n\t\tmargin-bottom: 7px;\n\t}\n}\n@media (max-width: 575px){\n\t.tt-promo-fullwidth .tt-description .tt-title-small {\n\t\tfont-size: 14px;\n\t\tline-height: 16px;\n\t\tmargin-bottom: 7px;\n\t}\n}\n@media (max-width: 450px){\n\t.tt-promo-fullwidth .tt-description .tt-title-small {\n\t\tfont-size: 12px;\n\t\tline-height: 12px;\n\t\tmargin-bottom: 4px;\n\t}\n}",
      "repeatable": "Banner",
      "info": ""
    },
    {
      "type": "checkbox",
      "id": "block_show_button",
      "label": "Show button",
      "default": true,
      "repeatable": "Banner",
      "info": ""
    },
    {
      "type": "textarea",
      "id": "block_button_name",
      "label": "Button name",
      "default": "SHOP NOW!",
      "repeatable": "Banner",
      "info": ""
    },
    {
      "type": "color",
      "id": "block_text_color1",
      "label": "Text 1 color",
      "default": "#191919",
      "repeatable": "Banner",
      "info": ""
    },
    {
      "type": "color",
      "id": "block_text_color2",
      "label": "Text 2 color",
      "default": "#191919",
      "repeatable": "Banner",
      "info": ""
    },
    {
      "type": "color",
      "id": "block_text_color3",
      "label": "Text 3 color",
      "default": "#191919",
      "repeatable": "Banner",
      "info": ""
    },
    {
      "type": "color",
      "id": "block_cbtntext",
      "label": "Base Text Button",
      "default": "#ffffff",
      "repeatable": "Banner",
      "info": ""
    },
    {
      "type": "color",
      "id": "block_acbtntext",
      "label": "Active Text Button",
      "default": "#ffffff",
      "repeatable": "Banner",
      "info": ""
    },
    {
      "type": "color",
      "id": "block_cbtnbg",
      "label": "Base Background Button",
      "default": "#2879fe",
      "repeatable": "Banner",
      "info": ""
    },
    {
      "type": "color",
      "id": "block_acbtnbg",
      "label": "Active Background Button",
      "default": "#2267d8",
      "repeatable": "Banner",
      "info": ""
    },
    {
      "type": "textarea",
      "id": "block_btn_custom_styles",
      "label": "Button custom styles",
      "repeatable": "Banner",
      "info": ""
    },
    {
      "type": "textarea",
      "id": "block_btn_custom_styles_hover",
      "label": "HOVER. Button custom styles",
      "repeatable": "Banner",
      "info": ""
    }
  ],
  "warnings": [
    "repeating checkbox fields may not be properly handled",
    "repeating image fields may not be properly handled",
    "some fields may be named the same"
  ]
}ATB-SCHEMA
{% endcomment %}


{%- include 'atb-render' field:'section_id' -%}
{%- assign section_id = val -%}
{%- include 'atb-render' field:'atb_top_offset' -%}
{%- assign atb_top_offset = val -%}
{%- include 'atb-render' field:'atb_fullwidth' -%}
{%- assign atb_fullwidth = val -%}
{%- include 'atb-render' field:'blocks' -%}
{%- assign blocks = val -%}
{%- include 'atb-render' field:'block_image' -%}
{%- assign block_image = val -%}
{%- include 'atb-render' field:'block_use_link' -%}
{%- assign block_use_link = val -%}
{%- include 'atb-render' field:'block_link' -%}
{%- assign block_link = val -%}
{%- include 'atb-render' field:'block_use_parallax' -%}
{%- assign block_use_parallax = val -%}
{%- include 'atb-render' field:'block_height1' -%}
{%- assign block_height1 = val -%}
{%- include 'atb-render' field:'block_height2' -%}
{%- assign block_height2 = val -%}
{%- include 'atb-render' field:'block_height3' -%}
{%- assign block_height3 = val -%}
{%- include 'atb-render' field:'block_height4' -%}
{%- assign block_height4 = val -%}
{%- include 'atb-render' field:'block_text1' -%}
{%- assign block_text1 = val -%}
{%- include 'atb-render' field:'block_text2' -%}
{%- assign block_text2 = val -%}
{%- include 'atb-render' field:'block_text3' -%}
{%- assign block_text3 = val -%}
{%- include 'atb-render' field:'block_position' -%}
{%- assign block_position = val -%}
{%- include 'atb-render' field:'block_textalign' -%}
{%- assign block_textalign = val -%}
{%- include 'atb-render' field:'block_use_custom_style_for_text_1' -%}
{%- assign block_use_custom_style_for_text_1 = val -%}
{%- include 'atb-render' field:'block_custom_style_for_text_1' -%}
{%- assign block_custom_style_for_text_1 = val -%}
{%- include 'atb-render' field:'block_show_button' -%}
{%- assign block_show_button = val -%}
{%- include 'atb-render' field:'block_button_name' -%}
{%- assign block_button_name = val -%}
{%- include 'atb-render' field:'block_text_color1' -%}
{%- assign block_text_color1 = val -%}
{%- include 'atb-render' field:'block_text_color2' -%}
{%- assign block_text_color2 = val -%}
{%- include 'atb-render' field:'block_text_color3' -%}
{%- assign block_text_color3 = val -%}
{%- include 'atb-render' field:'block_cbtntext' -%}
{%- assign block_cbtntext = val -%}
{%- include 'atb-render' field:'block_acbtntext' -%}
{%- assign block_acbtntext = val -%}
{%- include 'atb-render' field:'block_cbtnbg' -%}
{%- assign block_cbtnbg = val -%}
{%- include 'atb-render' field:'block_acbtnbg' -%}
{%- assign block_acbtnbg = val -%}
{%- include 'atb-render' field:'block_btn_custom_styles' -%}
{%- assign block_btn_custom_styles = val -%}
{%- include 'atb-render' field:'block_btn_custom_styles_hover' -%}
{%- assign block_btn_custom_styles_hover = val -%}
{%- if atb_fullwidth == blank -%}
{%- assign atb_fullwidth = false -%}
{%- else -%}
{%- assign atb_fullwidth = true -%}
{%- endif -%}
{%- assign no_image = images['no_image_comparison'] -%}

<section id="shopify-section-{{section_id}}" class="shopify-section index-section">
{%- assign item = section.settings -%}
<div class="{% if item.top_offset == 'none' %}nomargin {% elsif item.top_offset == 'small' %}tt-offset-small {% endif %}container-indent sectionbigbanners{{ section_id }}">
  <div class="container{% if item.fullwidth %}-fluid{% endif %}">
    <div class="{% if item.fullwidth %}row{% endif %} no-gutter">
	  {%- if blocks.size > 0 -%}
      {%- for block0 in blocks -%}{%- assign b_i = block_-[forloop.index0]%}
{%- if block_show_button[forloop.index0] == blank -%}
{%- assign my_checkbox3 = false -%}
{%- else -%}
{%- assign my_checkbox3 = true -%}
{%- endif -%}
{%- if block_use_custom_style_for_text_1[forloop.index0] == blank -%}
{%- assign my_checkbox2 = false -%}
{%- else -%}
{%- assign my_checkbox2 = true -%}
{%- endif -%}
{%- if block_use_parallax[forloop.index0] == blank -%}
{%- assign my_checkbox1 = false -%}
{%- else -%}
{%- assign my_checkbox1 = true -%}
{%- endif -%}
{%- if block_use_link[forloop.index0] == blank -%}
{%- assign my_checkbox0 = false -%}
{%- else -%}
{%- assign my_checkbox0 = true -%}
{%- endif -%}
{%- assign my_image_key0 = block_image[forloop.index0]| split: '/files/' | last -%}
{%- assign my_image0 = images[my_image_key0] -%}
      {%- assign id = '#section' | append: section_id | append: forloop.index -%}
      {%- if b_i.use_parallax and b_i.image != blank -%}
      {%- assign id_s = 'data-anchor-target="' | append: id | append: '"' -%}
      {%- assign img = b_i.image | img_url: '2048x' -%}
      {%- assign img = 'style="background-image: url(' | append: img | append: ')"' -%}
      {% assign parallax_atrr = ' data-bottom-top="background-position: 50% 200px;" data-top-bottom="background-position: 50% -200px;"' | append: img | append: id_s %}
      <style>
        {{ id }} .tt-promo-fullwidth {
          height: {{ b_i.height1 }}px;
        }
        @media (max-width: 1199px){
          {{ id }} .tt-promo-fullwidth {
            height: {{ b_i.height2 }}px;
          }
        }
        @media (max-width: 789px){
          {{ id }} .tt-promo-fullwidth {
            height: {{ b_i.height3 }}px;
          }
        }
        @media (max-width: 451px){
          {{ id }} .tt-promo-fullwidth {
            height: {{ b_i.height4 }}px;
          }
        }
      </style>
      {%- endif -%}
      {%- if b_i.use_custom_style_for_text_1 -%}
      {% assign id_s = id | append: " .tt-promo-fullwidth" %}
      <style>
        {{ b_i.custom_style_for_text_1 | replace: ".tt-promo-fullwidth", id_s }}
      </style>
      {%- endif -%}
      <div class="col-sm-12 respimgsize blid{{ blocks[forloop.index0] }}" {{ block.shopify_attributes }} id="section{{ section_id }}{{ forloop.index }}">
        {% if b_i.show_button or b_i.use_link == false %}<div class="tt-promo-fullwidth"{{ parallax_atrr }}>{% else %}<a href="{{ b_i.link }}"{{ parallax_atrr }} class="tt-promo-fullwidth">{% endif %}
        
          {%- if b_i.use_parallax == false or b_i.image == blank -%}
          {%- if b_i.image == blank -%}
        	{%- if b_i.use_parallax -%}{%- include "get_svg" type:'image' size:'1920x1300' -%}
        	{%- else -%}{%- include "get_svg" type:'image' size:'2048x800' -%}
        	{%- endif -%}
        	{%- else -%}    
        	<img class="lazyload"
                 data-mainimage="{{ b_i.image | img_url: '100x100' | replace: '100x100', 'respimgsize' }}"
                 alt="{{ b_i.image.alt }}">
          {%- endif -%}
          {%- endif -%}

          <div class="tt-description {{ b_i.position }}">
            <div class="tt-description-wrapper text-{{ b_i.textalign }}">
              {% unless b_i.text1 == '' %}<div class="tt-title-small" style="color:{{ b_i.text_color1 }}">{{ b_i.text1 }}</div>{% endunless %}
              {% unless b_i.text2 == '' %}<div class="tt-title-large" style="color:{{ b_i.text_color2 }}">{{ b_i.text2 }}</div>{% endunless %}
              {% unless b_i.text3 == '' %}<p style="color:{{ b_i.text_color3 }}">{{ b_i.text3 }}</p>{% endunless %}
              {% if b_i.show_button %}<a href="{{ b_i.link }}" class="btn btn-xl" style="color:{{ b_i.cbtntext }}; background:{{ b_i.cbtnbg }};" data-c="{{ b_i.cbtntext }}" data-ac="{{ b_i.acbtntext }}" data-bgc="{{ b_i.cbtnbg }}" data-abgc="{{ b_i.acbtnbg }}" data-hovercolors>{{ b_i.button_name }}</a>{% endif %}
            </div>
          </div>
        {%- if b_i.show_button == false and b_i.use_link == true -%}</a>{%- else -%}</div>{%- endif -%}
        
      </div>
      {%- endfor -%}
      {%- else -%}
      <span style="display: flex; justify-content: center;">This section doesn’t currently include any content. Add content to this section using the sidebar.</span>
      {%- endif -%}
    </div>
  </div>
</div>
<style>  
  {%- for block0 in blocks -%}{%- assign b_i = block_-[forloop.index0]%}
{%- if block_show_button[forloop.index0] == blank -%}
{%- assign my_checkbox3 = false -%}
{%- else -%}
{%- assign my_checkbox3 = true -%}
{%- endif -%}
{%- if block_use_custom_style_for_text_1[forloop.index0] == blank -%}
{%- assign my_checkbox2 = false -%}
{%- else -%}
{%- assign my_checkbox2 = true -%}
{%- endif -%}
{%- if block_use_parallax[forloop.index0] == blank -%}
{%- assign my_checkbox1 = false -%}
{%- else -%}
{%- assign my_checkbox1 = true -%}
{%- endif -%}
{%- if block_use_link[forloop.index0] == blank -%}
{%- assign my_checkbox0 = false -%}
{%- else -%}
{%- assign my_checkbox0 = true -%}
{%- endif -%}
{%- assign my_image_key0 = block_image[forloop.index0]| split: '/files/' | last -%}
{%- assign my_image0 = images[my_image_key0] -%}
  {%- if b_i.show_button -%}
  {%- if b_i.btn_custom_styles != '' -%}
  .sectionbigbanners{{ section_id }} .blid{{ blocks[forloop.index0] }} .btn{
    /*{{ b_i.btn_custom_styles | replace: ";", " !important;" }}*/
    {{ b_i.btn_custom_styles }}
  }
  {%- endif -%}
  {%- if b_i.btn_custom_styles_hover != '' -%}
  .sectionbigbanners{{ section_id }} .blid{{ blocks[forloop.index0] }} .btn:hover{
    /*{{ b_i.btn_custom_styles_hover | replace: ";", " !important;" }}*/
    {{ b_i.btn_custom_styles_hover }}
  }
  {%- endif -%}
  {%- endif -%}
  {%- endfor -%}
</style>


</section>