{% comment %}
ATB-SCHEMA{
  "name": "Border Banners",
  "class": "index-section",
  "id": "index-section-border_banners",
  "banner": "",
  "icon": "",
  "tags": "",
  "description": "",
  "settings": [
    {
      "type": "text",
      "id": "section_id",
      "label": "Section ID",
      "info": "Enter a unique ID with only letters and numbers, no spaces",
      "default": ""
    },
    {
      "type": "select",
      "id": "atb_top_offset",
      "label": "Top Offset",
      "default": "normal",
      "options": [
        {
          "value": "none",
          "label": "None"
        },
        {
          "value": "small",
          "label": "Small"
        },
        {
          "value": "normal",
          "label": "Normal"
        }
      ],
      "info": ""
    },
    {
      "type": "checkbox",
      "id": "atb_fullwidth",
      "label": "Fullwidth size",
      "default": false,
      "info": ""
    },
    {
      "type": "checkbox",
      "id": "atb_show_title",
      "label": "Show Title Block",
      "default": true,
      "info": ""
    },
    {
      "type": "checkbox",
      "id": "atb_title_to_left",
      "label": "Title to left",
      "default": false,
      "info": ""
    },
    {
      "type": "checkbox",
      "id": "atb_boxed_title",
      "label": "Boxed title when fullwidth",
      "default": false,
      "info": ""
    },
    {
      "type": "textarea",
      "id": "atb_text1",
      "label": "Title",
      "default": "POPULAR",
      "info": ""
    },
    {
      "type": "textarea",
      "id": "atb_text2",
      "label": "Description",
      "default": "CLOTHING BRANDS",
      "info": ""
    },
    {
      "type": "select",
      "id": "atb_items",
      "label": "Items in row",
      "options": [
        {
          "value": "6",
          "label": "2"
        },
        {
          "value": "4",
          "label": "3"
        },
        {
          "value": "3",
          "label": "4"
        }
      ],
      "default": "3",
      "info": "For screen size > 1024"
    },
    {
      "type": "header",
      "content": "Colors",
      "info": ""
    },
    {
      "type": "color",
      "id": "atb_border_base_color",
      "label": "Border base color",
      "default": "#e9e7e7",
      "info": ""
    },
    {
      "type": "color",
      "id": "atb_border_active_color",
      "label": "Border active color",
      "default": "#2879fe",
      "info": ""
    },
    {
      "type": "text",
      "id": "blocks",
      "label": "Block ID",
      "info": "Enter a unique ID with only letters and numbers, no spaces",
      "default": "",
      "repeatable": "Banner"
    },
    {
      "type": "text",
      "id": "block_link",
      "label": "Link",
      "info": "Optional",
      "repeatable": "Banner"
    },
    {
      "type": "image_picker",
      "id": "block_image",
      "label": "Image",
      "info": "Image size 246x106px. Use *.png image",
      "repeatable": "Banner"
    }
  ],
  "warnings": [
    "repeating image fields may not be properly handled"
  ]
}ATB-SCHEMA
{% endcomment %}


{%- include 'atb-render' field:'section_id' -%}
{%- assign section_id = val -%}
{%- include 'atb-render' field:'atb_top_offset' -%}
{%- assign atb_top_offset = val -%}
{%- include 'atb-render' field:'atb_fullwidth' -%}
{%- assign atb_fullwidth = val -%}
{%- include 'atb-render' field:'atb_show_title' -%}
{%- assign atb_show_title = val -%}
{%- include 'atb-render' field:'atb_title_to_left' -%}
{%- assign atb_title_to_left = val -%}
{%- include 'atb-render' field:'atb_boxed_title' -%}
{%- assign atb_boxed_title = val -%}
{%- include 'atb-render' field:'atb_text1' -%}
{%- assign atb_text1 = val -%}
{%- include 'atb-render' field:'atb_text2' -%}
{%- assign atb_text2 = val -%}
{%- include 'atb-render' field:'atb_items' -%}
{%- assign atb_items = val -%}
{%- include 'atb-render' field:'atb_border_base_color' -%}
{%- assign atb_border_base_color = val -%}
{%- include 'atb-render' field:'atb_border_active_color' -%}
{%- assign atb_border_active_color = val -%}
{%- include 'atb-render' field:'blocks' -%}
{%- assign blocks = val -%}
{%- include 'atb-render' field:'block_link' -%}
{%- assign block_link = val -%}
{%- include 'atb-render' field:'block_image' -%}
{%- assign block_image = val -%}
{%- if atb_fullwidth == blank -%}
{%- assign atb_fullwidth = false -%}
{%- else -%}
{%- assign atb_fullwidth = true -%}
{%- endif -%}
{%- if atb_show_title == blank -%}
{%- assign atb_show_title = false -%}
{%- else -%}
{%- assign atb_show_title = true -%}
{%- endif -%}
{%- if atb_title_to_left == blank -%}
{%- assign atb_title_to_left = false -%}
{%- else -%}
{%- assign atb_title_to_left = true -%}
{%- endif -%}
{%- if atb_boxed_title == blank -%}
{%- assign atb_boxed_title = false -%}
{%- else -%}
{%- assign atb_boxed_title = true -%}
{%- endif -%}
{%- assign no_image = images['no_image_comparison'] -%}

<section id="shopify-section-{{section_id}}" class="shopify-section index-section">
{%- assign item = section.settings -%}

{%- assign grid = atb_items -%}
{%- capture info_image_size -%}
{%- case grid -%}
{%- when '6' -%}600x300px
{%- when '4' -%}400x200px
{%- else -%}246x106px
{%- endcase -%}
{%- endcapture -%}

{%- assign img_size = info_image_size | split: 'x' | first | append: 'x' -%}

<div class="{% if item.top_offset == 'none' %}nomargin {% elsif item.top_offset == 'small' %}tt-offset-small {% endif %}container-indent">
  <div class="container{% if item.fullwidth %}-fluid-custom{% endif %}">
    {% if item.show_title %}
    <div class="tt-block-title{% if item.title_to_left %} text-left{% endif %}{% if item.boxed_title and item.fullwidth %} container{% endif %}">
      <h1 class="tt-title">{{ item.text1 }}</h1>
      {% if item.text2 != '' %}<div class="tt-description">{{ item.text2 }}</div>{% endif %}
    </div>{% endif %}
    {%- if blocks.size > 0 -%}
    <div class="row tt-img-box-listing">
      {%- for block0 in blocks -%}{%- assign b_i = block_-[forloop.index0]%}
{%- assign my_image_key0 = block_image[forloop.index0]| split: '/files/' | last -%}
{%- assign my_image0 = images[my_image_key0] -%}
      <div class="col-6 col-sm-4 col-md-{{ grid }} col-12-440width" {{ block.shopify_attributes }}>
        <a href="{{ b_i.link }}" class="tt-img-box" style="border-color:{{ item.border_base_color }};" data-borc="{{ item.border_base_color }}" data-aborc="{{ item.border_active_color }}" data-hovercolors>
          {%- if b_i.image == blank -%}{% include "get_svg" type:'image' size:info_image_size no_info_text:'true' %}
          {%- else -%}
          <img class="lazyload"
               src="{{ b_i.image | img_url: img_size }}"
               data-src="{{ b_i.image | img_url: img_size }}"
               data-srcset="{% include 'atb-lazyload_string'  value: b_i.image  %}"
               alt="{{ b_i.image.alt }}">
          {%- endif -%}
        </a>
      </div>
      {%- endfor -%}
    </div>
    {%- else -%}
    <span style="display: flex; justify-content: center;">This section doesnâ€™t currently include any content. Add content to this section using the sidebar.</span>
    {%- endif -%}
  </div>
</div>


</section>